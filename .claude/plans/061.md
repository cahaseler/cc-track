# Plan: 061

Captured: 2025-09-16T12:05:55.270Z

## Create Task from GitHub Issue Implementation

### Overview
Implement a new command that creates cc-track tasks directly from GitHub issues, leveraging the existing task enrichment system and GitHub integration.

### Implementation Steps

1. **Create CLI Command: `src/commands/create-task-from-issue.ts`**
   - Accept issue number or URL as argument
   - Use `gh issue view --json` to fetch issue data (title, body, labels, assignees)
   - Extract task description from issue body
   - Generate a plan-like structure from the issue content

2. **Reuse Task Enrichment Infrastructure**
   - Call `enrichPlanWithResearch` function from capture-plan.ts
   - Pass issue title and body as the "plan" input
   - Let the research agent analyze codebase and create comprehensive task file
   - Task file will be written to `.claude/tasks/TASK_XXX.md`

3. **GitHub Integration Flow**
   - After task file creation, use `gh issue develop` to create linked branch
   - Update task file with issue metadata (issue number, URL, branch name)
   - Commit task file to main before switching to feature branch
   - Update CLAUDE.md to set as active task

4. **Create Slash Command: `.claude/commands/task-from-issue.md`**
   - Simple wrapper that calls the CLI command
   - Allowed tools: Bash (cc-track command), Read, Grep, Glob for research
   - Format: `/task-from-issue <issue-number-or-url>`

5. **Register Command in CLI**
   - Add import and registration in `src/cli/index.ts`
   - Follow existing command patterns (Commander.js structure)

### Key Design Decisions

- **Reuse existing enrichment**: Don't duplicate the research logic - use the same comprehensive research flow that capture-plan uses
- **Issue data as plan**: Transform issue title/body into a plan format that the research agent can work with
- **Automatic branching**: Use `gh issue develop` for proper issue-PR linking
- **Both CLI and slash command**: Allows flexibility for users and Claude to invoke

### Files to Create/Modify
- Create: `src/commands/create-task-from-issue.ts`
- Create: `.claude/commands/task-from-issue.md`
- Modify: `src/cli/index.ts` (register command)
- Modify: `src/lib/github-helpers.ts` (add getIssue method if needed)

### Testing Approach
- Test with real GitHub issues from the cc-track repo
- Verify task file generation includes all research
- Confirm branch creation and linking works properly
- Ensure CLAUDE.md updates correctly