# Plan: 004

Captured: 2025-09-10T03:07:46.840Z

## Plan to Fix code_index.md

The useless file modification entries in code_index.md are **not** being automatically generated - they're leftover artifacts from TASK_002's original implementation that was later pivoted to focus only on error patterns.

### Actions to take:

1. **Clean up code_index.md**
   - Remove all the duplicate "Directory Structure" and "Key Files" sections from lines 46-136
   - Keep only the clean structure I already added (lines 1-71)
   - This restores the file to its intended purpose as a manual reference

2. **Verify no automation exists**
   - Already confirmed: No hooks or scripts currently write to code_index.md
   - The pre_compact hook only updates learned_mistakes.md
   - The post_compact hook only injects instructions, doesn't modify files

3. **Document the clarification**
   - The code_index.md is meant to be manually updated by Claude during sessions
   - It should track significant structural changes, not every file modification
   - This aligns with the post_compact hook's instruction to update documentation thoughtfully

No code changes needed - just cleaning up the leftover mess in the markdown file.