# Plan: 057

Captured: 2025-09-15T19:09:11.859Z

## Plan: Remove Post-Compact/SessionStart Hook

### Changes to make:

1. **Remove hook files**:
   - Delete `src/hooks/post-compact.ts`
   - Delete `src/hooks/post-compact.test.ts`

2. **Update configuration files**:
   - Remove SessionStart hook section from `.claude/settings.json` (lines 52-63)
   - Remove post_compact entry from `.claude/track.config.json` (lines 11-14)
   - Remove post_compact from `templates/track.config.json`

3. **Update hook dispatcher**:
   - Remove post-compact case from `src/commands/hook.ts`
   - Remove import statement for postCompactHook

4. **Update init command**:
   - Remove any SessionStart hook setup from `src/commands/init.ts`

5. **Update type definitions**:
   - Remove SessionStart from HookEventName in `src/types.ts` if present

6. **Clean up tests**:
   - Update `src/commands/hook.test.ts` to remove post-compact tests
   - Update `src/lib/config.test.ts` if it has post-compact references

7. **Update documentation**:
   - Remove post-compact references from code_index.md
   - Clean up any other documentation mentioning post-compact/SessionStart

8. **Update backlog**:
   - Remove item #6 about reviewing session start hook instructions
   - Remove item #9 about stop-review message filtering (already implemented)

This will completely remove the redundant post-compact hook since:
- Pre-compact already updates task files
- Claude Code natively loads CLAUDE.md context after compaction
- Journal review reminders are in root CLAUDE.md
- Decision/pattern documentation happens at task completion