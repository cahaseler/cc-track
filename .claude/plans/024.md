# Plan: 024

Captured: 2025-09-11T00:28:52.267Z

## Add API Timer Display Configuration

I'll add a new configuration option to control when the API window timer is displayed in the statusline. The timer will show the remaining time in the current 5-hour window for API limits.

### Changes to Make:

1. **Update track.config.json**
   - Add new `api_timer` feature with `display` option
   - Options: "hide", "show", "sonnet-only" 
   - Default to "sonnet-only"

2. **Update .claude/lib/config.ts** 
   - Add api_timer to DEFAULT_CONFIG with same structure
   - Ensure it's recognized as a valid feature

3. **Update .claude/statusline.sh**
   - Read api_timer display setting from config
   - Extract API window time from ccusage output (format: "X h Y m left")
   - For "show": Add as separate block between model and daily cost
   - For "sonnet-only": Add "(reset in X h Y m)" next to model name if model contains "Sonnet"
   - For "hide": Don't display at all

4. **Update template statusline.sh**
   - Apply same changes to the template version

### Display Examples:
- **Show mode**: `🚅 Claude 3.5 Sonnet | ⏰ 2h 15m left | 💰 $273.44 today`
- **Sonnet-only mode**: `🚅 Claude 3.5 Sonnet (reset in 2h 15m) | 💰 $273.44 today`
- **Hide mode**: No timer displayed

The timer will help users track when they can switch back to Opus after hitting usage caps.