---
title: "7:39:33 PM - September 13, 2025"
date: 2025-09-13T23:39:33.746Z
timestamp: 1757806773746
---

## Project Notes

cc-track task validation implementation:

The task validation hook is a critical safety feature that prevents premature task completion claims. It uses Claude SDK to intelligently analyze edits to task files and blocks:
- Status changes to "completed" (only /complete-task can do this)
- Weasel words that claim completion while admitting failures ("mostly working", "edge cases remain")

The validation prompt had to be carefully tuned - initially it was too strict and blocked legitimate documentation of completed work. The key insight was to only block when someone claims completion WHILE ADMITTING to incomplete work, not when documenting actual completed requirements.

JSON parsing from Claude SDK responses is fragile - even with explicit instructions to return only JSON, responses often include markdown wrappers or explanatory text. Implemented multi-layer parsing that tries raw JSON first, then strips markdown, then uses regex to extract JSON objects.
