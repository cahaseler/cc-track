---
title: "11:04:20 PM - September 9, 2025"
date: 2025-09-10T03:04:20.185Z
timestamp: 1757473460185
---

## Project Notes

Successfully fixed the hook field name issues after compaction. The problem was simple but subtle - we were using the wrong field names:

- SessionStart hook was checking `data.matcher` but the field is actually `data.source`
- PreCompact hook was expecting `data.transcript` but it's actually `data.transcript_path`

The documentation clearly specified these field names, but our implementation had incorrect ones, likely from early prototyping or assumptions. Once we checked the docs and fixed the field names, both hooks started working properly.

The post-compact hook now successfully triggers and injects the CLAUDE.md content back into context after compaction. The pre-compact hook extracts error patterns as designed.

Craig was right to push back on speculative coding - the docs clearly stated that `source === 'compact'` covers both manual and automatic compaction, no need to check multiple variations.
